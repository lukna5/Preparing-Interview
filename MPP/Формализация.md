## Зачем
Необходима для доказывания:
* Корректность алгоритмов
* Невозможность построения каких-либо алгоритмов
* Необходимые требования для алгоритмов
_Для формализаций отношений между прикладным программистом и разработчиком компилятора и системы исполнения кода_
## Терминология
_Процесс_ - владеет памятью и ресурсами.
ОС создает иллюзию, что каждый процесс имеет вычислительную систему в своем полном распоряжении.

_Поток_ - контекст исполнения внутри процесс.
- В одном процесс может быть несколько потоков
- Все потоки работают с общей памятью процесса
В теории понятия часто смешивается с процессом.

Общие переменные (иногда называют регистрами) - это просто простейший тип общего объекта
* Есть значение определенного типа
* Есть операция чтения (read) и записи (write)
Модель с общими переменными - это хорошая абстракция современных многопроцессорных систем и многопоточных ОС. **На практике, это область памяти процесса, которая одновременно доступна для чтения и записи всем потокам, исполняемым в данном процессе**

"__Программа A имеет свойство P__", _если программа A имеет свойство P при любом исполнении_

Модель чередования - способ представления многопоточной программы в виде перестановки возможного выполнения операций над общими объектами.

Система - это набор всех возможных исполнений системы.
Система имеет свойство P, если каждое исполнение имеет свойство P.

## Модели программирования
### Классическое однопоточное
_ Может использовать ресурсы многоядерной системы в рамках решения одной задачи _
__Детерминированы__
### Многозадачное программирование
_ Возможность использовать ресурсы многоядерной системы в рамках решения одной задачи _
__Недетерминированы__

Варианты:
* _ Модель с общей памятью_
_Единственный способ общения между потоками - общая память_
![](resources/Модель%20с%20общей%20памятью.png)
* Модель с передачей сообщений (распределенное программирование)



## Модель "произошло до"

### Теория
Операция (сложная) состоит из двух событий (простых):
* inv(e) - вызов операции
* res(e) - ответ на операцию (результат)
Все события полностью упорядочены отношением "Произошло до" < H (< и снизу H)

Порядок операций определяется порядком событий
_e -> f по определению тогда и только тогда когда res(e) < inv(f)_

![](resources/Произошло%20до%20на%20глобальном%20времени.png)

### На практике
Современные ЯП предоставляют программисту операции синхронизации
* Механизмы чтения и записи переменных __volatile__
* Создание потоков и ожидание их завершения
* Различные другие библиотечные примитив для синхронизации
Модель памяти ЯП определяет то, каким образом исполнение синхронизации создает отношение "произошло до"